!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(window.jQuery)}(function(n){var e,o;Array.prototype.reduce||(Array.prototype.reduce=function(n){var r,i=Object(this),u=i.length>>>0,t=0;if(2===arguments.length)r=arguments[1];else{for(;u>t&&!(t in i);)t++;if(t>=u)throw new TypeError("Reduce of empty array with no initial value");r=i[t++]}for(;u>t;t++)t in i&&(r=n(r,i[t],t,i));return r});"function"!=typeof Array.prototype.filter&&(Array.prototype.filter=function(n){for(var r,i=Object(this),f=i.length>>>0,u=[],e=arguments.length>=2?arguments[1]:void 0,t=0;f>t;t++)t in i&&(r=i[t],n.call(e,r,t,i)&&u.push(r));return u});var h,c="function"==typeof define&&define.amd,p=function(t){var r="Comic Sans MS"===t?"Courier New":"Comic Sans MS",i=n("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),u=i.css("fontFamily",r).width(),f=i.css("fontFamily",t+","+r).width();return i.remove(),u!==f},u={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1,isFF:navigator.userAgent.indexOf("Firefox")>-1,jqueryVersion:parseFloat(n.fn.jquery),isSupportAmd:c,hasCodeMirror:c?require.specified("CodeMirror"):!!window.CodeMirror,isFontInstalled:p,isW3CRangeSupport:!!document.createRange},f=function(){var t=function(n){return function(t){return n===t}},i=function(n,t){return n===t},r=function(n){return function(t,i){return t[n]===i[n]}},u=function(){return!0},f=function(){return!1},e=function(n){return function(){return!n.apply(n,arguments)}},o=function(n,t){return function(i){return n(i)&&t(i)}},s=function(n){return n},h=0,c=function(n){var t=++h+"";return n?n+t:t},l=function(t){var i=n(document);return{top:t.top+i.scrollTop(),left:t.left+i.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},a=function(n){var i={},t;for(t in n)n.hasOwnProperty(t)&&(i[n[t]]=t);return i},v=function(n,t){return t=t||"",t+n.split(".").map(function(n){return n.substring(0,1).toUpperCase()+n.substring(1)}).join("")};return{eq:t,eq2:i,peq2:r,ok:u,fail:f,self:s,not:e,and:o,uniqueId:c,rect2bnd:l,invertObject:a,namespaceToCamel:v}}(),i=function(){var i=function(n){return n[0]},t=function(n){return n[n.length-1]},e=function(n){return n.slice(0,n.length-1)},r=function(n){return n.slice(1)},o=function(n,t){for(var r,i=0,u=n.length;u>i;i++)if(r=n[i],t(r))return r},s=function(n,t){for(var i=0,r=n.length;r>i;i++)if(!t(n[i]))return!1;return!0},u=function(t,i){return-1!==n.inArray(i,t)},h=function(n,t){return t=t||f.self,n.reduce(function(n,i){return n+t(i)},0)},c=function(n){for(var i=[],t=-1,r=n.length;++t<r;)i[t]=n[t];return i},l=function(n,u){if(!n.length)return[];var f=r(n);return f.reduce(function(n,i){var r=t(n);return u(t(r),i)?r[r.length]=i:n[n.length]=[i],n},[[i(n)]])},a=function(n){for(var i=[],t=0,r=n.length;r>t;t++)n[t]&&i.push(n[t]);return i},v=function(n){for(var i=[],t=0,r=n.length;r>t;t++)u(i,n[t])||i.push(n[t]);return i},y=function(n,t){var i=n.indexOf(t);return-1===i?null:n[i+1]},p=function(n,t){var i=n.indexOf(t);return-1===i?null:n[i-1]};return{head:i,last:t,initial:e,tail:r,prev:p,next:y,find:o,contains:u,all:s,sum:h,from:c,clusterBy:l,compact:a,unique:v}}(),l=String.fromCharCode(160),w="ï»¿",t=function(){var o=function(t){return t&&n(t).hasClass("note-editable")},ii=function(t){return t&&n(t).hasClass("note-control-sizing")},st=function(t){var r,u;return t.hasClass("note-air-editor")?(u=i.last(t.attr("id").split("-")),r=function(t){return function(){return n(t+u)}},{editor:function(){return t},holder:function(){return t.data("holder")},editable:function(){return t},popover:r("#note-popover-"),handle:r("#note-handle-"),dialog:r("#note-dialog-")}):(r=function(n){return function(){return t.find(n)}},{editor:function(){return t},holder:function(){return t.data("holder")},dropzone:r(".note-dropzone"),toolbar:r(".note-toolbar"),editable:r(".note-editable"),codable:r(".note-codable"),statusbar:r(".note-statusbar"),popover:r(".note-popover"),handle:r(".note-handle"),dialog:r(".note-dialog")})},ri=function(t){var r=n(t).closest(".note-editor, .note-air-editor, .note-air-layout"),u;return r.length?(u=r.is(".note-editor, .note-air-editor")?r:n("#note-editor-"+i.last(r.attr("id").split("-"))),st(u)):null},r=function(n){return n=n.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===n}},s=function(n){return n&&3===n.nodeType},v=function(n){return n&&/^BR|^IMG|^HR/.test(n.nodeName.toUpperCase())},h=function(n){return o(n)?!1:n&&/^DIV|^P|^LI|^H[1-7]/.test(n.nodeName.toUpperCase())},ht=r("LI"),ui=function(n){return h(n)&&!ht(n)},ct=r("TABLE"),y=function(n){return!(g(n)||lt(n)||h(n)||ct(n)||d(n))},lt=function(n){return n&&/^UL|^OL/.test(n.nodeName.toUpperCase())},at=function(n){return n&&/^TD|^TH/.test(n.nodeName.toUpperCase())},d=r("BLOCKQUOTE"),g=function(n){return at(n)||d(n)||o(n)},vt=r("A"),fi=function(n){return y(n)&&!!b(n,h)},ei=function(n){return y(n)&&!b(n,h)},oi=r("BODY"),si=function(n,t){return n.nextSibling===t||n.previousSibling===t},hi=function(n,t){t=t||f.ok;var i=[];return n.previousSibling&&t(n.previousSibling)&&i.push(n.previousSibling),i.push(n),n.nextSibling&&t(n.nextSibling)&&i.push(n.nextSibling),i},p=u.isMSIE?"&nbsp;":"<br>",e=function(n){return s(n)?n.nodeValue.length:n.childNodes.length},nt=function(n){var i=e(n);return 0===i?!0:t.isText(n)||1!==i||n.innerHTML!==p?!1:!0},yt=function(n){v(n)||e(n)||(n.innerHTML=p)},b=function(n,t){for(;n;){if(t(n))return n;if(o(n))break;n=n.parentNode}return null},ci=function(n,t){for(n=n.parentNode;n&&1===e(n);){if(t(n))return n;if(o(n))break;n=n.parentNode}return null},c=function(n,t){t=t||f.fail;var i=[];return b(n,function(n){return o(n)||i.push(n),t(n)}),i},li=function(n,t){var r=c(n);return i.last(r.filter(t))},ai=function(t,i){for(var u=c(t),r=i;r;r=r.parentNode)if(n.inArray(r,u)>-1)return r;return null},vi=function(n,t){t=t||f.fail;for(var i=[];n&&!t(n);)i.push(n),n=n.previousSibling;return i},pt=function(n,t){t=t||f.fail;for(var i=[];n&&!t(n);)i.push(n),n=n.nextSibling;return i},yi=function(n,t){var i=[];return t=t||f.ok,function r(u){n!==u&&t(u)&&i.push(u);for(var f=0,e=u.childNodes.length;e>f;f++)r(u.childNodes[f])}(n),i},pi=function(t,i){var u=t.parentNode,r=n("<"+i+">")[0];return u.insertBefore(r,t),r.appendChild(t),r},tt=function(n,t){var i=t.nextSibling,r=t.parentNode;return i?r.insertBefore(n,i):r.appendChild(n),n},it=function(t,i){return n.each(i,function(n,i){t.appendChild(i)}),t},rt=function(n){return 0===n.offset},ut=function(n){return n.offset===e(n.node)},wt=function(n){return rt(n)||ut(n)},wi=function(n,t){for(;n&&n!==t;){if(0!==a(n))return!1;n=n.parentNode}return!0},bi=function(n,t){for(;n&&n!==t;){if(a(n)!==e(n.parentNode)-1)return!1;n=n.parentNode}return!0},a=function(n){for(var t=0;n=n.previousSibling;)t+=1;return t},k=function(n){return!!(n&&n.childNodes&&n.childNodes.length)},bt=function(n,t){var i,r;if(0===n.offset){if(o(n.node))return null;i=n.node.parentNode;r=a(n.node)}else k(n.node)?(i=n.node.childNodes[n.offset-1],r=e(i)):(i=n.node,r=t?0:n.offset-1);return{node:i,offset:r}},ft=function(n,t){var i,r;if(e(n.node)===n.offset){if(o(n.node))return null;i=n.node.parentNode;r=a(n.node)+1}else k(n.node)?(i=n.node.childNodes[n.offset],r=0):(i=n.node,r=t?e(n.node):n.offset+1);return{node:i,offset:r}},kt=function(n,t){return n.node===t.node&&n.offset===t.offset},ki=function(n){if(s(n.node)||!k(n.node)||nt(n.node))return!0;var t=n.node.childNodes[n.offset-1],i=n.node.childNodes[n.offset];return t&&!v(t)||i&&!v(i)?!1:!0},di=function(n,t){for(;n;){if(t(n))return n;n=bt(n)}return null},gi=function(n,t){for(;n;){if(t(n))return n;n=ft(n)}return null},nr=function(n){if(!s(n.node))return!1;var t=n.node.nodeValue.charAt(n.offset-1);return t&&" "!==t&&t!==l},tr=function(n,t,i,r){for(var f,u=n;u&&(i(u),!kt(u,t));)f=r&&n.node!==u.node&&t.node!==u.node,u=ft(u,f)},ir=function(t,i){var r=c(i,f.eq(t));return n.map(r,a).reverse()},rr=function(n,t){for(var i=n,r=0,u=t.length;u>r;r++)i=i.childNodes.length<=t[r]?i.childNodes[i.childNodes.length-1]:i.childNodes[t[r]];return i},et=function(n,t){var u=t&&t.isSkipPaddingBlankHTML,f=t&&t.isNotSplitEdgePoint,r,i;if(wt(n)&&(s(n.node)||f)){if(rt(n))return n.node;if(ut(n))return n.node.nextSibling}return s(n.node)?n.node.splitText(n.offset):(r=n.node.childNodes[n.offset],i=tt(n.node.cloneNode(!1),n.node),it(i,pt(r)),u||(yt(n.node),yt(i)),i)},dt=function(n,i,r){var u=c(i.node,f.eq(n));return u.length?1===u.length?et(i,r):u.reduce(function(n,u){return n===i.node&&(n=et(i,r)),et({node:u,offset:n?t.position(n):e(u)},r)}):null},ur=function(n,t){var r,u,s=t?h:g,e=c(n.node,s),o=i.last(e)||n.node,f;return s(o)?(r=e[e.length-2],u=o):(r=o,u=r.parentNode),f=r&&dt(r,n,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t}),f||u!==n.node||(f=n.node.childNodes[n.offset]),{rightNode:f,container:u}},gt=function(n){return document.createElement(n)},fr=function(n){return document.createTextNode(n)},ot=function(n,t){var f,i,r,u;if(n&&n.parentNode){if(n.removeNode)return n.removeNode(t);if(f=n.parentNode,!t){for(u=[],i=0,r=n.childNodes.length;r>i;i++)u.push(n.childNodes[i]);for(i=0,r=u.length;r>i;i++)f.insertBefore(u[i],n)}f.removeChild(n)}},er=function(n,t){for(;n&&!o(n)&&t(n);){var i=n.parentNode;ot(n);n=i}},or=function(n,t){if(n.nodeName.toUpperCase()===t.toUpperCase())return n;var r=gt(t);return n.style.cssText&&(r.style.cssText=n.style.cssText),it(r,i.from(n.childNodes)),tt(r,n),ot(n),r},ni=r("TEXTAREA"),ti=function(n,t){var i=ni(n[0])?n.val():n.html();return t?i.replace(/[\n\r]/g,""):i},sr=function(t,i){var r=ti(t),u;return i&&(u=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,r=r.replace(u,function(n,t,i){i=i.toUpperCase();var r=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i)&&!!t,u=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);return n+(r||u?"\n":"")}),r=n.trim(r)),r};return{NBSP_CHAR:l,ZERO_WIDTH_NBSP_CHAR:w,blank:p,emptyPara:"<p>"+p+"<\/p>",makePredByNodeName:r,isEditable:o,isControlSizing:ii,buildLayoutInfo:st,makeLayoutInfo:ri,isText:s,isVoid:v,isPara:h,isPurePara:ui,isInline:y,isBlock:f.not(y),isBodyInline:ei,isBody:oi,isParaInline:fi,isList:lt,isTable:ct,isCell:at,isBlockquote:d,isBodyContainer:g,isAnchor:vt,isDiv:r("DIV"),isLi:ht,isBR:r("BR"),isSpan:r("SPAN"),isB:r("B"),isU:r("U"),isS:r("S"),isI:r("I"),isImg:r("IMG"),isTextarea:ni,isEmpty:nt,isEmptyAnchor:f.and(vt,nt),isClosestSibling:si,withClosestSiblings:hi,nodeLength:e,isLeftEdgePoint:rt,isRightEdgePoint:ut,isEdgePoint:wt,isLeftEdgeOf:wi,isRightEdgeOf:bi,prevPoint:bt,nextPoint:ft,isSamePoint:kt,isVisiblePoint:ki,prevPointUntil:di,nextPointUntil:gi,isCharPoint:nr,walkPoint:tr,ancestor:b,singleChildAncestor:ci,listAncestor:c,lastAncestor:li,listNext:pt,listPrev:vi,listDescendant:yi,commonAncestor:ai,wrap:pi,insertAfter:tt,appendChildNodes:it,position:a,hasChildren:k,makeOffsetPath:ir,fromOffsetPath:rr,splitTree:dt,splitPoint:ur,create:gt,createText:fr,remove:ot,removeWhile:er,replace:or,html:sr,value:ti}}(),r=function(){var e=function(n,r){for(var o,s=n.parentElement(),a=document.body.createTextRange(),h=i.from(s.childNodes),c,u,l,e,f=0;f<h.length;f++)if(!t.isText(h[f])){if(a.moveToElementText(h[f]),a.compareEndPoints("StartToStart",n)>=0)break;o=h[f]}if(0!==f&&t.isText(h[f-1])){for(c=document.body.createTextRange(),u=null,c.moveToElementText(o||s),c.collapse(!o),u=o?o.nextSibling:s.firstChild,l=n.duplicate(),l.setEndPoint("StartToStart",c),e=l.text.replace(/[\r\n]/g,"").length;e>u.nodeValue.length&&u.nextSibling;)e-=u.nodeValue.length,u=u.nextSibling;u.nodeValue;r&&u.nextSibling&&t.isText(u.nextSibling)&&e===u.nodeValue.length&&(e-=u.nodeValue.length,u=u.nextSibling);s=u;f=e}return{cont:s,offset:f}},o=function(n){var e=function(n,r){var u,o,s,h;if(t.isText(n))s=t.listPrev(n,f.not(t.isText)),h=i.last(s).previousSibling,u=h||n.parentNode,r+=i.sum(i.tail(s),t.nodeLength),o=!h;else{if(u=n.childNodes[r]||n,t.isText(u))return e(u,0);r=0;o=!1}return{node:u,collapseToStart:o,offset:r}},r=document.body.createTextRange(),u=e(n.node,n.offset);return r.moveToElementText(u.node),r.collapse(u.collapseToStart),r.moveStart("character",u.offset),r},r=function(e,s,h,c){var a,l;this.sc=e;this.so=s;this.ec=h;this.eo=c;a=function(){var n,t;return u.isW3CRangeSupport?(n=document.createRange(),n.setStart(e,s),n.setEnd(h,c),n):(t=o({node:e,offset:s}),t.setEndPoint("EndToEnd",o({node:h,offset:c})),t)};this.getPoints=function(){return{sc:e,so:s,ec:h,eo:c}};this.getStartPoint=function(){return{node:e,offset:s}};this.getEndPoint=function(){return{node:h,offset:c}};this.select=function(){var t=a(),n;return u.isW3CRangeSupport?(n=document.getSelection(),n.rangeCount>0&&n.removeAllRanges(),n.addRange(t)):t.select(),this};this.scrollIntoView=function(){return this.sc.scrollIntoView&&this.sc.scrollIntoView(!1),this};this.focus=function(){return this.sc.focus(),this};this.normalize=function(){var n=function(n){return t.isVisiblePoint(n)||(n=t.isLeftEdgePoint(n)?t.nextPointUntil(n,t.isVisiblePoint):t.prevPointUntil(n,t.isVisiblePoint)),n},i=n(this.getStartPoint()),u=n(this.getEndPoint());return new r(i.node,i.offset,u.node,u.offset)};this.nodes=function(n,r){n=n||f.ok;var o=r&&r.includeAncestor,s=r&&r.fullyContains,h=this.getStartPoint(),c=this.getEndPoint(),u=[],e=[];return t.walkPoint(h,c,function(r){if(!t.isEditable(r.node)){var f;s?(t.isLeftEdgePoint(r)&&e.push(r.node),t.isRightEdgePoint(r)&&i.contains(e,r.node)&&(f=r.node)):f=o?t.ancestor(r.node,n):r.node;f&&n(f)&&u.push(f)}},!0),i.unique(u)};this.commonAncestor=function(){return t.commonAncestor(e,h)};this.expand=function(n){var f=t.ancestor(e,n),u=t.ancestor(h,n),i;return!f&&!u?new r(e,s,h,c):(i=this.getPoints(),f&&(i.sc=f,i.so=0),u&&(i.ec=u,i.eo=t.nodeLength(u)),new r(i.sc,i.so,i.ec,i.eo))};this.collapse=function(n){return n?new r(e,s,e,s):new r(h,c,h,c)};this.splitText=function(){var i=e===h,n=this.getPoints();return t.isText(h)&&!t.isEdgePoint(this.getEndPoint())&&h.splitText(c),t.isText(e)&&!t.isEdgePoint(this.getStartPoint())&&(n.sc=e.splitText(s),n.so=0,i&&(n.ec=n.sc,n.eo=c-s)),new r(n.sc,n.so,n.ec,n.eo)};this.deleteContents=function(){if(this.isCollapsed())return this;var f=this.splitText(),e=f.nodes(null,{fullyContains:!0}),u=t.prevPointUntil(f.getStartPoint(),function(n){return!i.contains(e,n.node)}),o=[];return n.each(e,function(n,i){var r=i.parentNode;u.node!==r&&1===t.nodeLength(r)&&o.push(r);t.remove(i,!1)}),n.each(o,function(n,i){t.remove(i,!1)}),new r(u.node,u.offset,u.node,u.offset).normalize()};l=function(n){return function(){var i=t.ancestor(e,n);return!!i&&i===t.ancestor(h,n)}};this.isOnEditable=l(t.isEditable);this.isOnList=l(t.isList);this.isOnAnchor=l(t.isAnchor);this.isOnCell=l(t.isCell);this.isLeftEdgeOf=function(n){if(!t.isLeftEdgePoint(this.getStartPoint()))return!1;var i=t.ancestor(this.sc,n);return i&&t.isLeftEdgeOf(this.sc,i)};this.isCollapsed=function(){return e===h&&s===c};this.wrapBodyInlineWithPara=function(){var n,o,u,h;return t.isBodyContainer(e)&&t.isEmpty(e)?(e.innerHTML=t.emptyPara,new r(e.firstChild,0,e.firstChild,0)):t.isParaInline(e)||t.isPara(e)?this.normalize():(t.isInline(e)?(o=t.listAncestor(e,f.not(t.isInline)),n=i.last(o),t.isInline(n)||(n=o[o.length-2]||e.childNodes[s])):n=e.childNodes[s>0?s-1:0],u=t.listPrev(n,t.isParaInline).reverse(),(u=u.concat(t.listNext(n.nextSibling,t.isParaInline)),u.length)&&(h=t.wrap(i.head(u),"p"),t.appendChildNodes(h,i.tail(u))),this.normalize())};this.insertNode=function(n){var r=this.wrapBodyInlineWithPara().deleteContents(),i=t.splitPoint(r.getStartPoint(),t.isInline(n));return i.rightNode?i.rightNode.parentNode.insertBefore(n,i.rightNode):i.container.appendChild(n),n};this.pasteHTML=function(t){var r=this,u=n("<div><\/div>").html(t)[0],f=i.from(u.childNodes);return this.wrapBodyInlineWithPara().deleteContents(),n.map(f.reverse(),function(n){return r.insertNode(n)}).reverse()};this.toString=function(){var n=a();return u.isW3CRangeSupport?n.toString():n.text};this.getWordRange=function(n){var i=this.getEndPoint(),u;return t.isCharPoint(i)?(u=t.prevPointUntil(i,function(n){return!t.isCharPoint(n)}),n&&(i=t.nextPointUntil(i,function(n){return!t.isCharPoint(n)})),new r(u.node,u.offset,i.node,i.offset)):this};this.bookmark=function(n){return{s:{path:t.makeOffsetPath(n,e),offset:s},e:{path:t.makeOffsetPath(n,h),offset:c}}};this.paraBookmark=function(n){return{s:{path:i.tail(t.makeOffsetPath(i.head(n),e)),offset:s},e:{path:i.tail(t.makeOffsetPath(i.last(n),h)),offset:c}}};this.getClientRects=function(){var n=a();return n.getClientRects()}};return{create:function(n,i,f,o){var l,c,a,v,y,s,h;if(arguments.length)2===arguments.length&&(f=n,o=i);else if(u.isW3CRangeSupport){if((l=document.getSelection(),0===l.rangeCount)||t.isBody(l.anchorNode))return null;c=l.getRangeAt(0);n=c.startContainer;i=c.startOffset;f=c.endContainer;o=c.endOffset}else a=document.selection.createRange(),v=a.duplicate(),v.collapse(!1),y=a,y.collapse(!0),s=e(y,!0),h=e(v,!1),t.isText(s.node)&&t.isLeftEdgePoint(s)&&t.isTextNode(h.node)&&t.isRightEdgePoint(h)&&h.node.nextSibling===s.node&&(s=h),n=s.cont,i=s.offset,f=h.cont,o=h.offset;return new r(n,i,f,o)},createFromNode:function(n){var r=n,f=0,i=n,u=t.nodeLength(i);return t.isVoid(r)&&(f=t.listPrev(r).length-1,r=r.parentNode),t.isBR(i)?(u=t.listPrev(i).length-1,i=i.parentNode):t.isVoid(i)&&(u=t.listPrev(i).length,i=i.parentNode),this.create(r,f,i,u)},createFromBookmark:function(n,i){var u=t.fromOffsetPath(n,i.s.path),f=i.s.offset,e=t.fromOffsetPath(n,i.e.path),o=i.e.offset;return new r(u,f,e,o)},createFromParaBookmark:function(n,u){var f=n.s.offset,e=n.e.offset,o=t.fromOffsetPath(i.head(u),n.s.path),s=t.fromOffsetPath(i.last(u),n.e.path);return new r(o,f,s,e)}}}(),b={version:"0.6.5",options:{width:null,height:null,minHeight:null,maxHeight:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,disableResizeEditor:!1,shortcuts:!0,placeholder:!1,prettifyHtml:!0,iconPrefix:"fa fa-",codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],airMode:!1,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],defaultFontName:"Helvetica Neue",fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],insertTableMaxSize:{col:10,row:10},maximumImageFileSize:null,oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onMediaDelete:null,onToolbarClick:null,onsubmit:null,onCreateLink:function(n){return-1!==n.indexOf("@")&&-1===n.indexOf(":")?n="mailto:"+n:-1===n.indexOf("://")&&(n="http://"+n),n},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"showLinkDialog"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"showLinkDialog"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},history:{undo:"Undo",redo:"Redo"}}}},a=function(){var t=function(t){return n.Deferred(function(i){n.extend(new FileReader,{onload:function(n){var t=n.target.result;i.resolve(t)},onerror:function(){i.reject(this)}}).readAsDataURL(t)}).promise()},i=function(t,i){return n.Deferred(function(r){var u=n("<img>");u.one("load",function(){u.off("error abort");r.resolve(u)}).one("error abort",function(){u.off("load").detach();r.reject(u)}).css({display:"none"}).appendTo(document.body).attr({src:t,"data-filename":i})}).promise()};return{readFileAsDataURL:t,createImage:i}}(),s=function(){var n={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(n){return i.contains([8,9,13,32],n)},nameFromCode:f.invertObject(n),code:n}}(),k=function(n){var i=[],t=-1,u=n[0],e=function(){var t=r.create();return{contents:n.html(),bookmark:t?t.bookmark(u):{s:{path:[],offset:0},e:{path:[],offset:0}}}},f=function(t){null!==t.contents&&n.html(t.contents);null!==t.bookmark&&r.createFromBookmark(u,t.bookmark).select()};this.undo=function(){t>0&&(t--,f(i[t]))};this.redo=function(){i.length-1>t&&(t++,f(i[t]))};this.recordUndo=function(){t++;i.length>t&&(i=i.slice(0,t));i.push(e())};this.recordUndo()},d=function(){var r=function(t,i){if(u.jqueryVersion<1.9){var r={};return n.each(i,function(n,i){r[i]=t.css(i)}),r}return t.css.call(t,i)};this.stylePara=function(i,r){n.each(i.nodes(t.isPara,{includeAncestor:!0}),function(t,i){n(i).css(r)})};this.styleNodes=function(r,u){var e,s,h;r=r.splitText();var o=u&&u.nodeName||"SPAN",c=!(!u||!u.expandClosestSibling),l=!(!u||!u.onlyPartialContains);return r.isCollapsed()?r.insertNode(t.create(o)):(e=t.makePredByNodeName(o),s=n.map(r.nodes(t.isText,{fullyContains:!0}),function(n){return t.singleChildAncestor(n,e)||t.wrap(n,o)}),c)?(l&&(h=r.nodes(),e=f.and(e,function(n){return i.contains(h,n)})),n.map(s,function(r){var u=t.withClosestSiblings(r,e),f=i.head(u),o=i.tail(u);return n.each(o,function(n,i){t.appendChildNodes(f,i.childNodes);t.remove(i)}),i.head(u)})):s};this.current=function(i,u){var c=n(t.isText(i.sc)?i.sc.parentNode:i.sc),f=r(c,["font-family","font-size","text-align","list-style-type","line-height"])||{},o,s,e,h;return(f["font-size"]=parseInt(f["font-size"],10),f["font-bold"]=document.queryCommandState("bold")?"bold":"normal",f["font-italic"]=document.queryCommandState("italic")?"italic":"normal",f["font-underline"]=document.queryCommandState("underline")?"underline":"normal",f["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",f["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal",f["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal",i.isOnList())?(o=["circle","disc","disc-leading-zero","square"],s=n.inArray(f["list-style-type"],o)>-1,f["list-style"]=s?"unordered":"ordered"):f["list-style"]="none",e=t.ancestor(i.sc,t.isPara),e&&e.style["line-height"]?f["line-height"]=e.style.lineHeight:(h=parseInt(f["line-height"],10)/parseInt(f["font-size"],10),f["line-height"]=h.toFixed(1)),f.image=t.isImg(u)&&u,f.anchor=i.isOnAnchor()&&t.ancestor(i.sc,t.isAnchor),f.ancestors=t.listAncestor(i.sc,t.isEditable),f.range=i,f}},v=function(){this.insertOrderedList=function(){this.toggleList("OL")};this.insertUnorderedList=function(){this.toggleList("UL")};this.indent=function(){var e=this,u=r.create().wrapBodyInlineWithPara(),o=u.nodes(t.isPara,{includeAncestor:!0}),s=i.clusterBy(o,f.peq2("parentNode"));n.each(s,function(r,u){var f=i.head(u);t.isLi(f)?e.wrapList(u,f.parentNode.nodeName):n.each(u,function(t,i){n(i).css("marginLeft",function(n,t){return(parseInt(t,10)||0)+25})})});u.select()};this.outdent=function(){var e=this,u=r.create().wrapBodyInlineWithPara(),o=u.nodes(t.isPara,{includeAncestor:!0}),s=i.clusterBy(o,f.peq2("parentNode"));n.each(s,function(r,u){var f=i.head(u);t.isLi(f)?e.releaseList([u]):n.each(u,function(t,i){n(i).css("marginLeft",function(n,t){return t=parseInt(t,10)||0,t>25?t-25:""})})});u.select()};this.toggleList=function(u){var l=this,s=r.create().wrapBodyInlineWithPara(),e=s.nodes(t.isPara,{includeAncestor:!0}),a=s.paraBookmark(e),c=i.clusterBy(e,f.peq2("parentNode")),o,h;i.find(e,t.isPurePara)?(o=[],n.each(c,function(n,t){o=o.concat(l.wrapList(t,u))}),e=o):(h=s.nodes(t.isList,{includeAncestor:!0}).filter(function(t){return!n.nodeName(t,u)}),h.length?n.each(h,function(n,i){t.replace(i,u)}):e=this.releaseList(c,!0));r.createFromParaBookmark(a,e).select()};this.wrapList=function(r,u){var o=i.head(r),f=i.last(r),h=t.isList(o.previousSibling)&&o.previousSibling,e=t.isList(f.nextSibling)&&f.nextSibling,s=h||t.insertAfter(t.create(u||"UL"),f);return r=n.map(r,function(n){return t.isPurePara(n)?t.replace(n,"LI"):n}),t.appendChildNodes(s,r),e&&(t.appendChildNodes(s,i.from(e.childNodes)),t.remove(e)),r};this.releaseList=function(r,u){var f=[];return n.each(r,function(r,e){var s=i.head(e),c=i.last(e),o=u?t.lastAncestor(s,t.isList):s.parentNode,a=o.childNodes.length>1?t.splitTree(o,{node:c.parentNode,offset:t.position(c)+1},{isSkipPaddingBlankHTML:!0}):null,h=t.splitTree(o,{node:s.parentNode,offset:t.position(s)},{isSkipPaddingBlankHTML:!0}),l;e=u?t.listDescendant(h,t.isLi):i.from(h.childNodes).filter(t.isLi);(u||!t.isList(o.parentNode))&&(e=n.map(e,function(n){return t.replace(n,"P")}));n.each(i.from(e).reverse(),function(n,i){t.insertAfter(i,o)});l=i.compact([o,h,a]);n.each(l,function(i,r){var u=[r].concat(t.listDescendant(r,t.isList));n.each(u.reverse(),function(n,i){t.nodeLength(i)||t.remove(i,!0)})});f=f.concat(e)}),f}},g=function(){var i=new v;this.insertTab=function(n,i,u){var f=t.createText(new Array(u+1).join(t.NBSP_CHAR));i=i.deleteContents();i.insertNode(f,!0);i=r.create(f,u);i.select()};this.insertParagraph=function(){var u=r.create(),e,f,o,s;if(u=u.deleteContents(),u=u.wrapBodyInlineWithPara(),f=t.ancestor(u.sc,t.isPara),f){if(t.isEmpty(f)&&t.isLi(f))return void i.toggleList(f.parentNode.nodeName);e=t.splitTree(f,u.getStartPoint());o=t.listDescendant(f,t.isEmptyAnchor);o=o.concat(t.listDescendant(e,t.isEmptyAnchor));n.each(o,function(n,i){t.remove(i)})}else s=u.sc.childNodes[u.so],e=n(t.emptyPara)[0],s?u.sc.insertBefore(e,s):u.sc.appendChild(e);r.create(e,0).normalize().select().focus().scrollIntoView()}},nt=function(){this.tab=function(n,u){var f=t.ancestor(n.commonAncestor(),t.isCell),o=t.ancestor(f,t.isTable),s=t.listDescendant(o,t.isCell),e=i[u?"prev":"next"](s,f);e&&r.create(e,0).select()};this.createTable=function(i,r){for(var s,h,e,o,u=[],f=0;i>f;f++)u.push("<td>"+t.blank+"<\/td>");for(s=u.join(""),e=[],o=0;r>o;o++)e.push("<tr>"+s+"<\/tr>");return h=e.join(""),n('<table class="table table-bordered">'+h+"<\/table>")[0]}},tt=function(f){var h=new d,p=new nt,b=new g,c=new v,l,y,s;this.createRange=function(n){return n.focus(),r.create()};this.saveRange=function(n,t){n.focus();n.data("range",r.create());t&&r.create().collapse().select()};this.saveNode=function(n){for(var i=[],t=0,r=n[0].childNodes.length;r>t;t++)i.push(n[0].childNodes[t]);n.data("childNodes",i)};this.restoreRange=function(n){var t=n.data("range");t&&(t.select(),n.focus())};this.restoreNode=function(n){n.html("");for(var i=n.data("childNodes"),t=0,r=i.length;r>t;t++)n[0].appendChild(i[t])};this.currentStyle=function(n){var t=r.create();return t?t.isOnEditable()&&h.current(t,n):!1};l=function(t){f.bindCustomEvent(n(),t.data("callbacks"),"before.command").call(t.html(),t)};y=function(t){f.bindCustomEvent(n(),t.data("callbacks"),"change").call(t.html(),t)};this.undo=function(n){l(n);n.data("NoteHistory").undo();y(n)};this.redo=function(n){l(n);n.data("NoteHistory").redo();y(n)};for(var e=this.beforeCommand=function(n){l(n)},o=this.afterCommand=function(n,t){n.data("NoteHistory").recordUndo();t||y(n)},w=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"],s=0,k=w.length;k>s;s++)this[w[s]]=function(n){return function(t,i){e(t);document.execCommand(n,!1,i);o(t,!0)}}(w[s]);for(this.tab=function(n,t){var i=r.create();i.isCollapsed()&&i.isOnCell()?p.tab(i):(e(n),b.insertTab(n,i,t.tabsize),o(n))},this.untab=function(){var n=r.create();n.isCollapsed()&&n.isOnCell()&&p.tab(n,!0)},this.insertParagraph=function(n){e(n);b.insertParagraph(n);o(n)},this.insertOrderedList=function(n){e(n);c.insertOrderedList(n);o(n)},this.insertUnorderedList=function(n){e(n);c.insertUnorderedList(n);o(n)},this.indent=function(n){e(n);c.indent(n);o(n)},this.outdent=function(n){e(n);c.outdent(n);o(n)},this.insertImage=function(n,t,i){a.createImage(t,i).then(function(t){e(n);t.css({display:"",width:Math.min(n.width(),t.width())});r.create().insertNode(t[0]);r.createFromNode(t[0]).collapse().select();o(n)}).fail(function(){var t=n.data("callbacks");t.onImageUploadError&&t.onImageUploadError()})},this.insertNode=function(n,t){e(n);var i=this.createRange(n);i.insertNode(t);r.createFromNode(t).collapse().select();o(n)},this.insertText=function(n,i){e(n);var f=this.createRange(n),u=f.insertNode(t.createText(i));r.create(u,t.nodeLength(u)).select();o(n)},this.pasteHTML=function(n,t){e(n);var u=this.createRange(n),f=u.pasteHTML(t);r.createFromNode(i.last(f)).collapse().select();o(n)},this.formatBlock=function(n,t){e(n);t=u.isMSIE?"<"+t+">":t;document.execCommand("FormatBlock",!1,t);o(n)},this.formatPara=function(n){e(n);this.formatBlock(n,"P");o(n)},s=1;6>=s;s++)this["formatH"+s]=function(n){return function(t){this.formatBlock(t,"H"+n)}}(s);this.fontSize=function(t,i){e(t);var r=this.createRange(t),u=h.styleNodes(r);n.each(u,function(t,r){n(r).css({"font-size":i+"px"})});o(t)};this.lineHeight=function(n,t){e(n);h.stylePara(r.create(),{lineHeight:t});o(n)};this.unlink=function(n){var i=r.create(),u;i.isOnAnchor()&&(u=t.ancestor(i.sc,t.isAnchor),i=r.createFromNode(u),i.select(),e(n),document.execCommand("unlink"),o(n))};this.createLink=function(t,u,f){var c=u.url,a=u.text,w=u.newWindow,l=u.range,b=l.toString()!==a,s,v;e(t);f.onCreateLink&&(c=f.onCreateLink(c));b?(v=l.insertNode(n("<A>"+a+"<\/A>")[0]),s=[v]):s=h.styleNodes(l,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});n.each(s,function(t,i){n(i).attr("href",c);w?n(i).attr("target","_blank"):n(i).removeAttr("target")});var k=r.createFromNode(i.head(s)).collapse(!0),y=k.getStartPoint(),d=r.createFromNode(i.last(s)).collapse(),p=d.getEndPoint();r.create(y.node,y.offset,p.node,p.offset).select();o(t)};this.getLinkInfo=function(u){u.focus();var e=r.create().expand(t.isAnchor),f=n(i.head(e.nodes(t.isAnchor)));return{range:e,text:e.toString(),isNewWindow:f.length?"_blank"===f.attr("target"):!1,url:f.length?f.attr("href"):""}};this.color=function(n,t){var i=JSON.parse(t),r=i.foreColor,u=i.backColor;e(n);r&&document.execCommand("foreColor",!1,r);u&&document.execCommand("backColor",!1,u);o(n)};this.insertTable=function(n,t){var u=t.split("x"),i;e(n);i=r.create();i=i.deleteContents();i.insertNode(p.createTable(u[0],u[1]));o(n)};this.floatMe=function(n,t,i){e(n);i.css("float",t);o(n)};this.imageShape=function(n,t,i){e(n);i.removeClass("img-rounded img-circle img-thumbnail");t&&i.addClass(t);o(n)};this.resize=function(n,t,i){e(n);i.css({width:100*t+"%",height:""});o(n)};this.resizeTo=function(n,t,i){var u,f,r;i?(f=n.y/n.x,r=t.data("ratio"),u={width:r>f?n.x:n.y/r,height:r>f?n.x*r:n.y}):u={width:n.x,height:n.y};t.css(u)};this.removeMedia=function(t,i,r){e(t);r.detach();f.bindCustomEvent(n(),t.data("callbacks"),"media.delete").call(r,this.$editable);o(t)};this.focus=function(n){n.focus();u.isFF&&r.createFromNode(n[0].firstChild||n[0]).collapse().select()}},y=function(){this.update=function(t,i){var c=function(t,i){t.find(".dropdown-menu li a").each(function(){var t=n(this).data("value")+""==i+"";this.className=t?"checked":""})},r=function(n,i){var r=t.find(n);r.toggleClass("active",i())},f,o,s,h,e,a,y;if(i.image)return f=n(i.image),r('button[data-event="imageShape"][data-value="img-rounded"]',function(){return f.hasClass("img-rounded")}),r('button[data-event="imageShape"][data-value="img-circle"]',function(){return f.hasClass("img-circle")}),r('button[data-event="imageShape"][data-value="img-thumbnail"]',function(){return f.hasClass("img-thumbnail")}),r('button[data-event="imageShape"]:not([data-value])',function(){return!f.is(".img-rounded, .img-circle, .img-thumbnail")}),o=f.css("float"),r('button[data-event="floatMe"][data-value="left"]',function(){return"left"===o}),r('button[data-event="floatMe"][data-value="right"]',function(){return"right"===o}),r('button[data-event="floatMe"][data-value="none"]',function(){return"left"!==o&&"right"!==o}),s=f.attr("style"),r('button[data-event="resize"][data-value="1"]',function(){return!!/(^|\s)(max-)?width\s*:\s*100%/.test(s)}),r('button[data-event="resize"][data-value="0.5"]',function(){return!!/(^|\s)(max-)?width\s*:\s*50%/.test(s)}),void r('button[data-event="resize"][data-value="0.25"]',function(){return!!/(^|\s)(max-)?width\s*:\s*25%/.test(s)});if(h=t.find(".note-fontname"),h.length&&(e=i["font-family"],e)){for(var v=e.split(","),l=0,p=v.length;p>l&&(e=v[l].replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,""),!u.isFontInstalled(e));l++);h.find(".note-current-fontname").text(e);c(h,e)}a=t.find(".note-fontsize");a.find(".note-current-fontsize").text(i["font-size"]);c(a,parseFloat(i["font-size"]));y=t.find(".note-height");c(y,parseFloat(i["line-height"]));r('button[data-event="bold"]',function(){return"bold"===i["font-bold"]});r('button[data-event="italic"]',function(){return"italic"===i["font-italic"]});r('button[data-event="underline"]',function(){return"underline"===i["font-underline"]});r('button[data-event="strikethrough"]',function(){return"strikethrough"===i["font-strikethrough"]});r('button[data-event="superscript"]',function(){return"superscript"===i["font-superscript"]});r('button[data-event="subscript"]',function(){return"subscript"===i["font-subscript"]});r('button[data-event="justifyLeft"]',function(){return"left"===i["text-align"]||"start"===i["text-align"]});r('button[data-event="justifyCenter"]',function(){return"center"===i["text-align"]});r('button[data-event="justifyRight"]',function(){return"right"===i["text-align"]});r('button[data-event="justifyFull"]',function(){return"justify"===i["text-align"]});r('button[data-event="insertUnorderedList"]',function(){return"unordered"===i["list-style"]});r('button[data-event="insertOrderedList"]',function(){return"ordered"===i["list-style"]})};this.updateRecentColor=function(t,i,r){var o=n(t).closest(".note-color"),u=o.find(".note-recent-color"),f=JSON.parse(u.attr("data-value")),e;f[i]=r;u.attr("data-value",JSON.stringify(f));e="backColor"===i?"background-color":"color";u.find("i").css(e,r)}},it=function(){var n=new y;this.update=function(t,i){n.update(t,i)};this.updateRecentColor=function(t,i,r){n.updateRecentColor(t,i,r)};this.activate=function(n){n.find("button").not('button[data-event="codeview"]').removeClass("disabled")};this.deactivate=function(n){n.find("button").not('button[data-event="codeview"]').addClass("disabled")};this.updateFullscreen=function(n,t){var i=n.find('button[data-event="fullscreen"]');i.toggleClass("active",t)};this.updateCodeview=function(n,t){var i=n.find('button[data-event="codeview"]');i.toggleClass("active",t);t?this.deactivate(n):this.activate(n)};this.get=function(n,i){var r=t.makeLayoutInfo(n).toolbar();return r.find("[data-name="+i+"]")};this.setButtonState=function(n,t,i){i=i===!1?!1:!0;var r=this.get(n,t);r.toggleClass("active",i)}},rt=24,ut=function(){var i=n(document),r;this.attach=function(n,t){t.disableResizeEditor||n.statusbar().on("mousedown",r)};r=function(n){n.preventDefault();n.stopPropagation();var u=t.makeLayoutInfo(n.target).editable(),f=u.offset().top-i.scrollTop(),e=t.makeLayoutInfo(n.currentTarget||n.target),r=e.editor().data("options");i.on("mousemove",function(n){var t=n.clientY-(f+rt);t=r.minHeight>0?Math.max(t,r.minHeight):t;t=r.maxHeight>0?Math.min(t,r.maxHeight):t;u.height(t)}).one("mouseup",function(){i.off("mousemove")})}},ft=function(){var u=new y,r=function(t,i){var r=n(t),u=i?r.offset():r.position(),f=r.outerHeight(!0);return{left:u.left,top:u.top+f}},t=function(n,t){n.css({display:"block",left:t.left,top:t.top})},e=20;this.update=function(o,s,h){var l,v,y,p,c;if(u.update(o,s),l=o.find(".note-link-popover"),s.anchor){var a=l.find("a"),w=n(s.anchor).attr("href"),b=n(s.anchor).attr("target");a.attr("href",w).html(w);b?a.attr("target","_blank"):a.removeAttr("target");t(l,r(s.anchor,h))}else l.hide();v=o.find(".note-image-popover");s.image?t(v,r(s.image,h)):v.hide();y=o.find(".note-air-popover");h&&!s.range.isCollapsed()?(p=i.last(s.range.getClientRects()),p&&(c=f.rect2bnd(p),t(y,{left:Math.max(c.left+c.width/2-e,0),top:c.top+c.height}))):y.hide()};this.updateRecentColor=function(n,t,i){n.updateRecentColor(n,t,i)};this.hide=function(n){n.children().hide()}},et=function(i){var r=n(document),u=function(u){if(t.isControlSizing(u.target)){u.preventDefault();u.stopPropagation();var e=t.makeLayoutInfo(u.target),s=e.handle(),l=e.popover(),a=e.editable(),v=e.editor(),o=s.find(".note-control-selection").data("target"),f=n(o),h=f.offset(),y=r.scrollTop(),c=v.data("options").airMode;r.on("mousemove",function(n){i.invoke("editor.resizeTo",{x:n.clientX-h.left,y:n.clientY-(h.top-y)},f,!n.shiftKey);i.invoke("handle.update",s,{image:o},c);i.invoke("popover.update",l,{image:o},c)}).one("mouseup",function(){r.off("mousemove");i.invoke("editor.afterCommand",a)});f.data("ratio")||f.data("ratio",f.height()/f.width())}};this.attach=function(n){n.handle().on("mousedown",u)};this.update=function(t,i,r){var e=t.find(".note-control-selection"),s;if(i.image){var u=n(i.image),o=r?u.offset():u.position(),f={w:u.outerWidth(!0),h:u.outerHeight(!0)};e.css({display:"block",left:o.left,top:o.top,width:f.w,height:f.h}).data("target",i.image);s=f.w+"x"+f.h;e.find(".note-control-selection-info").text(s)}else e.hide()};this.hide=function(n){n.children().hide()}},ot=function(t){var i=n(window),r=n("html, body");this.toggle=function(n){var o=n.editor(),s=n.toolbar(),u=n.editable(),f=n.codable(),h=function(n){u.css("height",n.h);f.css("height",n.h);f.data("cmeditor")&&f.data("cmeditor").setsize(null,n.h)},e;o.toggleClass("fullscreen");e=o.hasClass("fullscreen");e?(u.data("orgheight",u.css("height")),i.on("resize",function(){h({h:i.height()-s.outerHeight()})}).trigger("resize"),r.css("overflow","hidden")):(i.off("resize"),h({h:u.data("orgheight")}),r.css("overflow","visible"));t.invoke("toolbar.updateFullscreen",s,e)}};u.hasCodeMirror&&(u.isSupportAmd?require(["CodeMirror"],function(n){h=n}):h=window.CodeMirror);var st=function(n){this.sync=function(t){var i=n.invoke("codeview.isActivated",t);i&&u.hasCodeMirror&&t.codable().data("cmEditor").save()};this.isActivated=function(n){var t=n.editor();return t.hasClass("codeview")};this.toggle=function(n){this.isActivated(n)?this.deactivate(n):this.activate(n)};this.activate=function(i){var c=i.editor(),l=i.toolbar(),o=i.editable(),r=i.codable(),a=i.popover(),v=i.handle(),e=c.data("options"),f,s;(r.val(t.html(o,e.prettifyHtml)),r.height(o.height()),n.invoke("toolbar.updateCodeview",l,!0),n.invoke("popover.hide",a),n.invoke("handle.hide",v),c.addClass("codeview"),r.focus(),u.hasCodeMirror)&&(f=h.fromTextArea(r[0],e.codemirror),e.codemirror.tern&&(s=new h.TernServer(e.codemirror.tern),f.ternServer=s,f.on("cursorActivity",function(n){s.updateArgHints(n)})),f.setSize(null,o.outerHeight()),r.data("cmEditor",f))};this.deactivate=function(i){var o=i.editor(),h=i.toolbar(),f=i.editable(),r=i.codable(),s=o.data("options"),e;u.hasCodeMirror&&(e=r.data("cmEditor"),r.val(e.getValue()),e.toTextArea());f.html(t.value(r,s.prettifyHtml)||t.emptyPara);f.height(s.height?r.height():"auto");o.removeClass("codeview");f.focus();n.invoke("toolbar.updateCodeview",h,!1)}},ht=function(i){var r=n(document);this.attach=function(n,t){t.airMode||t.disableDragAndDrop?r.on("drop",function(n){n.preventDefault()}):this.attachDragAndDropEvent(n,t)};this.attachDragAndDropEvent=function(u,f){var e=n(),o=u.editor(),s=u.dropzone(),h=s.find(".note-dropzone-message");r.on("dragenter",function(n){var t=i.invoke("codeview.isActivated",u),r=o.width()>0&&o.height()>0;t||e.length||!r||(o.addClass("dragover"),s.width(o.width()),s.height(o.height()),h.text(f.langInfo.image.dragImageHere));e=e.add(n.target)}).on("dragleave",function(n){e=e.not(n.target);e.length||o.removeClass("dragover")}).on("drop",function(){e=n();o.removeClass("dragover")});s.on("dragenter",function(){s.addClass("hover");h.text(f.langInfo.image.dropImage)}).on("dragleave",function(){s.removeClass("hover");h.text(f.langInfo.image.dragImageHere)});s.on("drop",function(r){r.preventDefault();var u=r.originalEvent.dataTransfer,e=u.getData("text/html"),o=u.getData("text/plain"),f=t.makeLayoutInfo(r.currentTarget||r.target);u&&u.files&&u.files.length?(f.editable().focus(),i.insertImages(f,u.files)):e?n(e).each(function(){f.editable().focus();i.invoke("editor.insertNode",f.editable(),this)}):o&&(f.editable().focus(),i.invoke("editor.insertText",f.editable(),o))}).on("dragover",!1)}},ct=function(n){this.attach=function(n){n.editable().on("paste",r)};var r=function(r){var f=r.originalEvent.clipboardData,o=t.makeLayoutInfo(r.currentTarget||r.target),u=o.editable(),s,e,h;if(!f||!f.items||!f.items.length)return(s=u.data("callbacks"),!s.onImageUpload)?void 0:(n.invoke("editor.saveNode",u),n.invoke("editor.saveRange",u),u.html(""),void setTimeout(function(){var i=u.find("img"),f,e;if(i.length&&-1!==i[0].src.indexOf("data:")){for(var h=i[0].src,r=atob(h.split(",")[1]),s=new Uint8Array(r.length),t=0;t<r.length;t++)s[t]=r.charCodeAt(t);f=new Blob([s],{type:"image/png"});f.name="clipboard.png";n.invoke("editor.restoreNode",u);n.invoke("editor.restoreRange",u);n.insertImages(o,[f]);n.invoke("editor.afterCommand",u)}else{e=u.html();n.invoke("editor.restoreNode",u);n.invoke("editor.restoreRange",u);n.invoke("editor.focus",u);try{n.invoke("editor.pasteHTML",u,e)}catch(c){n.invoke("editor.insertText",u,e)}}},0));e=i.head(f.items);h="file"===e.kind&&-1!==e.type.indexOf("image/");h&&n.insertImages(o,[e.getAsFile()]);n.invoke("editor.afterCommand",u)}},lt=function(t){var i=function(n,t){n.toggleClass("disabled",!t);n.attr("disabled",!t)},r=function(n,t){n.on("keypress",function(n){n.keyCode===s.code.ENTER&&t.trigger("click")})};this.showLinkDialog=function(t,u,f){return n.Deferred(function(n){var e=u.find(".note-link-dialog"),t=e.find(".note-link-text"),o=e.find(".note-link-url"),s=e.find(".note-link-btn"),h=e.find("input[type=checkbox]");e.one("shown.bs.modal",function(){t.val(f.text);t.on("input",function(){f.text=t.val()});f.url||(f.url=f.text,i(s,f.text));o.on("input",function(){i(s,o.val());f.text||t.val(o.val())}).val(f.url).trigger("focus").trigger("select");r(o,s);r(t,s);h.prop("checked",f.newWindow);s.one("click",function(i){i.preventDefault();n.resolve({range:f.range,url:o.val(),text:t.val(),newWindow:h.is(":checked")});e.modal("hide")})}).one("hidden.bs.modal",function(){t.off("input keypress");o.off("input keypress");s.off("click");"pending"===n.state()&&n.reject()}).modal("show")}).promise()};this.show=function(n){var r=n.editor(),u=n.dialog(),i=n.editable(),f=n.popover(),e=t.invoke("editor.getLinkInfo",i),o=r.data("options");t.invoke("editor.saveRange",i);this.showLinkDialog(i,u,e).then(function(n){t.invoke("editor.restoreRange",i);t.invoke("editor.createLink",i,n,o);t.invoke("popover.hide",f)}).fail(function(){t.invoke("editor.restoreRange",i)})}},at=function(t){var i=function(n,t){n.toggleClass("disabled",!t);n.attr("disabled",!t)},r=function(n,t){n.on("keypress",function(n){n.keyCode===s.code.ENTER&&t.trigger("click")})};this.show=function(n){var r=n.dialog(),i=n.editable();t.invoke("editor.saveRange",i);this.showImageDialog(i,r).then(function(r){t.invoke("editor.restoreRange",i);"string"==typeof r?t.invoke("editor.insertImage",i,r):t.insertImages(n,r)}).fail(function(){t.invoke("editor.restoreRange",i)})};this.showImageDialog=function(t,u){return n.Deferred(function(n){var e=u.find(".note-image-dialog"),o=u.find(".note-image-input"),t=u.find(".note-image-url"),f=u.find(".note-image-btn");e.one("shown.bs.modal",function(){o.replaceWith(o.clone().on("change",function(){n.resolve(this.files||this.value);e.modal("hide")}).val(""));f.click(function(i){i.preventDefault();n.resolve(t.val());e.modal("hide")});t.on("keyup paste",function(n){var r;r="paste"===n.type?n.originalEvent.clipboardData.getData("text"):t.val();i(f,r)}).val("").trigger("focus");r(t,f)}).one("hidden.bs.modal",function(){o.off("change");t.off("keyup paste keypress");f.off("click");"pending"===n.state()&&n.reject()}).modal("show")})}},vt=function(t){this.showHelpDialog=function(t,i){return n.Deferred(function(n){var t=i.find(".note-help-dialog");t.one("hidden.bs.modal",function(){n.resolve()}).modal("show")}).promise()};this.show=function(n){var r=n.dialog(),i=n.editable();t.invoke("editor.saveRange",i,!0);this.showHelpDialog(i,r).then(function(){t.invoke("editor.restoreRange",i)})}},yt=function(){var r=this.modules={editor:new tt(this),toolbar:new it(this),statusbar:new ut(this),popover:new ft(this),handle:new et(this),fullscreen:new ot(this),codeview:new st(this),dragAndDrop:new ht(this),clipboard:new ct(this),linkDialog:new lt(this),imageDialog:new at(this),helpDialog:new vt(this)},e;this.invoke=function(){var f=i.head(i.from(arguments)),e=i.tail(i.from(arguments)),n=f.split("."),t=n.length>1,o=t&&i.head(n),s=t?i.last(n):i.head(n),r=this.getModule(o),u=r[s];return u&&u.apply(r,e)};this.getModule=function(n){return this.modules[n]||this.modules.editor};e=this.bindCustomEvent=function(n,t,i){return function(){var r=t[f.namespaceToCamel(i,"on")];return r&&r(arguments),n.trigger("summernote."+i,arguments)}};this.insertImages=function(t,i){var h=t.editor(),s=t.editable(),o=t.holder(),u=s.data("callbacks"),f=h.data("options");u.onImageUpload?e(o,u,"image.upload")([i]):n.each(i,function(n,t){var i=t.name;f.maximumImageFileSize&&f.maximumImageFileSize<t.size?e(o,u,"image.upload.error")(f.langInfo.image.maximumFileSizeError):a.readFileAsDataURL(t).then(function(n){r.editor.insertImage(s,n,i)}).fail(function(){e(o,u,"image.upload.error")(f.langInfo.image.maximumFileSizeError)})})};var o={showLinkDialog:function(n){r.linkDialog.show(n)},showImageDialog:function(n){r.imageDialog.show(n)},showHelpDialog:function(n){r.helpDialog.show(n)},fullscreen:function(n){r.fullscreen.toggle(n)},codeview:function(n){r.codeview.toggle(n)}},y=function(n){t.isImg(n.target)&&n.preventDefault()},h=function(n){setTimeout(function(){var i=t.makeLayoutInfo(n.currentTarget||n.target),u=r.editor.currentStyle(n.target),f;u&&(f=i.editor().data("options").airMode,f||r.toolbar.update(i.toolbar(),u),r.popover.update(i.popover(),u,f),r.handle.update(i.handle(),u,f))},0)},p=function(n){var i=t.makeLayoutInfo(n.currentTarget||n.target);r.popover.hide(i.popover());r.handle.hide(i.handle())},c=function(t){var i=n(t.target).closest("[data-event]");i.length&&t.preventDefault()},l=function(u){var e=n(u.target).closest("[data-event]"),y,l,a,p;if(e.length){var v,f=e.attr("data-event"),c=e.attr("data-value"),w=e.attr("data-hide"),s=t.makeLayoutInfo(u.target);-1!==n.inArray(f,["resize","floatMe","removeMedia","imageShape"])&&(y=s.handle().find(".note-control-selection"),v=n(y.data("target")));(w&&e.parents(".popover").hide(),n.isFunction(n.summernote.pluginEvents[f]))?n.summernote.pluginEvents[f](u,r.editor,s,c):r.editor[f]?(l=s.editable(),l.focus(),r.editor[f](l,c,v),u.preventDefault()):o[f]&&(o[f].call(this,s),u.preventDefault());-1!==n.inArray(f,["backColor","foreColor"])&&(a=s.editor().data("options",a),p=a.airMode?r.popover:r.toolbar,p.updateRecentColor(i.head(e),f,c));h(u)}},v=18,w=function(t,i){var u,f=n(t.target.parentNode),s=f.next(),h=f.find(".note-dimension-picker-mousecatcher"),c=f.find(".note-dimension-picker-highlighted"),o=f.find(".note-dimension-picker-unhighlighted"),e,r;void 0===t.offsetX?(e=n(t.target).offset(),u={x:t.pageX-e.left,y:t.pageY-e.top}):u={x:t.offsetX,y:t.offsetY};r={c:Math.ceil(u.x/v)||1,r:Math.ceil(u.y/v)||1};c.css({width:r.c+"em",height:r.r+"em"});h.attr("data-value",r.c+"x"+r.r);3<r.c&&r.c<i.insertTableMaxSize.col&&o.css({width:r.c+1+"em"});3<r.r&&r.r<i.insertTableMaxSize.row&&o.css({height:r.r+1+"em"});s.html(r.c+" x "+r.r)};this.bindKeyMap=function(t,i){var f=t.editor(),u=t.editable();u.on("keydown",function(e){var c=[],l,h,a;e.metaKey&&c.push("CMD");e.ctrlKey&&!e.altKey&&c.push("CTRL");e.shiftKey&&c.push("SHIFT");l=s.nameFromCode[e.keyCode];l&&c.push(l);h=i[c.join("+")];h?n.summernote.pluginEvents[h]?(a=n.summernote.pluginEvents[h],n.isFunction(a)&&a(e,r.editor,t)):r.editor[h]?(r.editor[h](u,f.data("options")),e.preventDefault()):o[h]&&(o[h].call(this,t),e.preventDefault()):s.isEdit(e.keyCode)&&r.editor.afterCommand(u)})};this.attach=function(n,f){var e,o,s;f.shortcuts&&this.bindKeyMap(n,f.keyMap[u.isMac?"mac":"pc"]);n.editable().on("mousedown",y);n.editable().on("keyup mouseup",h);n.editable().on("scroll",p);r.clipboard.attach(n,f);r.handle.attach(n,f);n.popover().on("click",l);n.popover().on("mousedown",c);r.dragAndDrop.attach(n,f);f.airMode||(n.toolbar().on("click",l),n.toolbar().on("mousedown",c),r.statusbar.attach(n,f));e=f.airMode?n.popover():n.toolbar();o=e.find(".note-dimension-picker-mousecatcher");o.css({width:f.insertTableMaxSize.col+"em",height:f.insertTableMaxSize.row+"em"}).on("mousemove",function(n){w(n,f)});n.editor().data("options",f);u.isMSIE||setTimeout(function(){document.execCommand("styleWithCSS",0,f.styleWithSpan)},0);s=new k(n.editable());n.editable().data("NoteHistory",s);n.editable().data("callbacks",{onInit:f.onInit,onFocus:f.onFocus,onBlur:f.onBlur,onKeydown:f.onKeydown,onKeyup:f.onKeyup,onMousedown:f.onMousedown,onEnter:f.onEnter,onPaste:f.onPaste,onBeforeCommand:f.onBeforeCommand,onChange:f.onChange,onImageUpload:f.onImageUpload,onImageUploadError:f.onImageUploadError,onMediaDelete:f.onMediaDelete});t.isTextarea(i.head(n.holder()))&&n.holder().closest("form").submit(function(){var t=n.holder().code();n.holder().val(t);f.onsubmit&&f.onsubmit(t)})};this.attachCustomEvent=function(r,f){var o=r.holder(),c=r.editable(),h=c.data("callbacks"),a,l,v;if(c.focus(e(o,h,"focus")),c.blur(e(o,h,"blur")),c.keydown(function(n){n.keyCode===s.code.ENTER&&e(o,h,"enter").call(this,n);e(o,h,"keydown").call(this,n)}),c.keyup(e(o,h,"keyup")),c.on("mousedown",e(o,h,"mousedown")),c.on("mouseup",e(o,h,"mouseup")),c.on("scroll",e(o,h,"scroll")),c.on("paste",e(o,h,"paste")),u.isMSIE){a="DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted";c.on(a,e(o,h,"change"))}else c.on("input",e(o,h,"change"));for(f.airMode||(r.toolbar().click(e(o,h,"toolbar.click")),r.popover().click(e(o,h,"popover.click"))),t.isTextarea(i.head(o))&&o.closest("form").submit(function(n){e(o,h,"submit").call(this,n,o.code())}),e(o,h,"init")(r),l=0,v=n.summernote.plugins.length;v>l;l++)n.isFunction(n.summernote.plugins[l].init)&&n.summernote.plugins[l].init(r)};this.detach=function(n,t){n.holder().off();n.editable().off();n.popover().off();n.handle().off();n.dialog().off();t.airMode||(n.dropzone().off(),n.toolbar().off(),n.statusbar().off())}},pt=function(){var r=function(n,t){var r=t.event,u=t.value,f=t.title,e=t.className,i=t.dropdown,o=t.hide;return'<button type="button" class="btn btn-default btn-sm btn-small'+(e?" "+e:"")+(i?" dropdown-toggle":"")+'"'+(i?' data-toggle="dropdown"':"")+(f?' title="'+f+'"':"")+(r?' data-event="'+r+'"':"")+(u?" data-value='"+u+"'":"")+(o?" data-hide='"+o+"'":"")+' tabindex="-1">'+n+(i?' <span class="caret"><\/span>':"")+"<\/button>"+(i||"")},i=function(n,t){var i='<i class="'+n+'"><\/i>';return r(i,t)},s=function(t,i){var r=n('<div class="'+t+' popover bottom in" style="display: none;"><div class="arrow"><\/div><div class="popover-content"><\/div><\/div>');return r.find(".popover-content").append(i),r},o=function(n,t,i,r){return'<div class="'+n+' modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content">'+(t?'<div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;<\/button><h4 class="modal-title">'+t+"<\/h4><\/div>":"")+'<div class="modal-body">'+i+"<\/div>"+(r?'<div class="modal-footer">'+r+"<\/div>":"")+"<\/div><\/div><\/div>"},h={picture:function(n,t){return i(t.iconPrefix+"picture-o",{event:"showImageDialog",title:n.image.image,hide:!0})},link:function(n,t){return i(t.iconPrefix+"link",{event:"showLinkDialog",title:n.link.link,hide:!0})},table:function(n,t){return i(t.iconPrefix+"table",{title:n.table.table,dropdown:'<ul class="note-table dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"><\/div><div class="note-dimension-picker-highlighted"><\/div><div class="note-dimension-picker-unhighlighted"><\/div><\/div><div class="note-dimension-display"> 1 x 1 <\/div><\/ul>'})},style:function(n,t){var r=t.styleTags.reduce(function(t,i){var r=n.style["p"===i?"normal":i];return t+'<li><a data-event="formatBlock" href="#" data-value="'+i+'">'+("p"===i||"pre"===i?r:"<"+i+">"+r+"<\/"+i+">")+"<\/a><\/li>"},"");return i(t.iconPrefix+"magic",{title:n.style.style,dropdown:'<ul class="dropdown-menu">'+r+"<\/ul>"})},fontname:function(n,t){var i=[],f=t.fontNames.reduce(function(n,r){return u.isFontInstalled(r)||-1!==t.fontNamesIgnoreCheck.indexOf(r)?(i.push(r),n+'<li><a data-event="fontName" href="#" data-value="'+r+'" style="font-family:\''+r+'\'"><i class="'+t.iconPrefix+'check"><\/i> '+r+"<\/a><\/li>"):n},""),e=u.isFontInstalled(t.defaultFontName),o=e?t.defaultFontName:i[0],s='<span class="note-current-fontname">'+o+"<\/span>";return r(s,{title:n.font.name,dropdown:'<ul class="dropdown-menu">'+f+"<\/ul>"})},fontsize:function(n,t){var i=t.fontSizes.reduce(function(n,t){return n+'<li><a data-event="fontSize" href="#" data-value="'+t+'"><i class="fa fa-check"><\/i> '+t+"<\/a><\/li>"},"");return r('<span class="note-current-fontsize">11<\/span>',{title:n.font.size,dropdown:'<ul class="dropdown-menu">'+i+"<\/ul>"})},color:function(n,t){var i='<i class="'+t.iconPrefix+'font" style="color:black;background-color:yellow;"><\/i>',u=r(i,{className:"note-recent-color",title:n.color.recent,event:"color",value:'{"backColor":"yellow"}'}),f='<ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+n.color.background+'<\/div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+n.color.transparent+'">'+n.color.setTransparent+'<\/div><div class="note-color-palette" data-target-event="backColor"><\/div><\/div><div class="btn-group"><div class="note-palette-title">'+n.color.foreground+'<\/div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+n.color.reset+'">'+n.color.resetToDefault+'<\/div><div class="note-color-palette" data-target-event="foreColor"><\/div><\/div><\/li><\/ul>',e=r("",{title:n.color.more,dropdown:f});return u+e},bold:function(n,t){return i(t.iconPrefix+"bold",{event:"bold",title:n.font.bold})},italic:function(n,t){return i(t.iconPrefix+"italic",{event:"italic",title:n.font.italic})},underline:function(n,t){return i(t.iconPrefix+"underline",{event:"underline",title:n.font.underline})},strikethrough:function(n){return i("fa fa-strikethrough",{event:"strikethrough",title:n.font.strikethrough})},superscript:function(n){return i("fa fa-superscript",{event:"superscript",title:n.font.superscript})},subscript:function(n){return i("fa fa-subscript",{event:"subscript",title:n.font.subscript})},clear:function(n,t){return i(t.iconPrefix+"eraser",{event:"removeFormat",title:n.font.clear})},ul:function(n,t){return i(t.iconPrefix+"list-ul",{event:"insertUnorderedList",title:n.lists.unordered})},ol:function(n,t){return i(t.iconPrefix+"list-ol",{event:"insertOrderedList",title:n.lists.ordered})},paragraph:function(n,t){var r=i(t.iconPrefix+"align-left",{title:n.paragraph.left,event:"justifyLeft"}),u=i(t.iconPrefix+"align-center",{title:n.paragraph.center,event:"justifyCenter"}),f=i(t.iconPrefix+"align-right",{title:n.paragraph.right,event:"justifyRight"}),e=i(t.iconPrefix+"align-justify",{title:n.paragraph.justify,event:"justifyFull"}),o=i(t.iconPrefix+"outdent",{title:n.paragraph.outdent,event:"outdent"}),s=i(t.iconPrefix+"indent",{title:n.paragraph.indent,event:"indent"}),h='<div class="dropdown-menu"><div class="note-align btn-group">'+r+u+f+e+'<\/div><div class="note-list btn-group">'+s+o+"<\/div><\/div>";return i(t.iconPrefix+"align-left",{title:n.paragraph.paragraph,dropdown:h})},height:function(n,t){var r=t.lineHeights.reduce(function(n,i){return n+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(i)+'"><i class="'+t.iconPrefix+'check"><\/i> '+i+"<\/a><\/li>"},"");return i(t.iconPrefix+"text-height",{title:n.font.height,dropdown:'<ul class="dropdown-menu">'+r+"<\/ul>"})},help:function(n,t){return i(t.iconPrefix+"question",{event:"showHelpDialog",title:n.options.help,hide:!0})},fullscreen:function(n,t){return i(t.iconPrefix+"arrows-alt",{event:"fullscreen",title:n.options.fullscreen})},codeview:function(n,t){return i(t.iconPrefix+"code",{event:"codeview",title:n.options.codeview})},undo:function(n,t){return i(t.iconPrefix+"undo",{event:"undo",title:n.history.undo})},redo:function(n,t){return i(t.iconPrefix+"repeat",{event:"redo",title:n.history.redo})},hr:function(n,t){return i(t.iconPrefix+"minus",{event:"insertHorizontalRule",title:n.hr.insert})}},a=function(t,u){var e=function(){var n=i(u.iconPrefix+"edit",{title:t.link.edit,event:"showLinkDialog",hide:!0}),r=i(u.iconPrefix+"unlink",{title:t.link.unlink,event:"unlink"}),f='<a href="http://www.google.com" target="_blank">www.google.com<\/a>&nbsp;&nbsp;<div class="note-insert btn-group">'+n+r+"<\/div>";return s("note-link-popover",f)},o=function(){var n=r('<span class="note-fontsize-10">100%<\/span>',{title:t.image.resizeFull,event:"resize",value:"1"}),f=r('<span class="note-fontsize-10">50%<\/span>',{title:t.image.resizeHalf,event:"resize",value:"0.5"}),e=r('<span class="note-fontsize-10">25%<\/span>',{title:t.image.resizeQuarter,event:"resize",value:"0.25"}),o=i(u.iconPrefix+"align-left",{title:t.image.floatLeft,event:"floatMe",value:"left"}),h=i(u.iconPrefix+"align-right",{title:t.image.floatRight,event:"floatMe",value:"right"}),c=i(u.iconPrefix+"align-justify",{title:t.image.floatNone,event:"floatMe",value:"none"}),l=i(u.iconPrefix+"square",{title:t.image.shapeRounded,event:"imageShape",value:"img-rounded"}),a=i(u.iconPrefix+"circle-o",{title:t.image.shapeCircle,event:"imageShape",value:"img-circle"}),v=i(u.iconPrefix+"picture-o",{title:t.image.shapeThumbnail,event:"imageShape",value:"img-thumbnail"}),y=i(u.iconPrefix+"times",{title:t.image.shapeNone,event:"imageShape",value:""}),p=i(u.iconPrefix+"trash-o",{title:t.image.remove,event:"removeMedia",value:"none"}),w='<div class="btn-group">'+n+f+e+'<\/div><div class="btn-group">'+o+h+c+'<\/div><div class="btn-group">'+l+a+v+y+'<\/div><div class="btn-group">'+p+"<\/div>";return s("note-image-popover",w)},c=function(){for(var e,o=n("<div />"),f=0,l=u.airPopover.length;l>f;f++){for(var i=u.airPopover[f],c=n('<div class="note-'+i[0]+' btn-group">'),r=0,a=i[1].length;a>r;r++)e=n(h[i[1][r]](t,u)),e.attr("data-name",i[1][r]),c.append(e);o.append(c)}return s("note-air-popover",o.children())},f=n('<div class="note-popover" />');return f.append(e()),f.append(o()),u.airMode&&f.append(c()),f},v=function(){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"><\/div><div class="note-control-holder note-control-nw"><\/div><div class="note-control-holder note-control-ne"><\/div><div class="note-control-holder note-control-sw"><\/div><div class="note-control-sizing note-control-se"><\/div><div class="note-control-selection-info"><\/div><\/div><\/div>'},e=function(n,t){var r="note-shortcut-col col-xs-6 note-shortcut-",u=[],i;for(i in t)t.hasOwnProperty(i)&&u.push('<div class="'+r+'key">'+t[i].kbd+'<\/div><div class="'+r+'name">'+t[i].text+"<\/div>");return'<div class="note-shortcut-row row"><div class="'+r+'title col-xs-offset-6">'+n+'<\/div><\/div><div class="note-shortcut-row row">'+u.join('<\/div><div class="note-shortcut-row row">')+"<\/div>"},b=function(n){var t=[{kbd:"â + B",text:n.font.bold},{kbd:"â + I",text:n.font.italic},{kbd:"â + U",text:n.font.underline},{kbd:"â + \\",text:n.font.clear}];return e(n.shortcut.textFormatting,t)},k=function(n){var t=[{kbd:"â + Z",text:n.history.undo},{kbd:"â + â§ + Z",text:n.history.redo},{kbd:"â + ]",text:n.paragraph.indent},{kbd:"â + [",text:n.paragraph.outdent},{kbd:"â + ENTER",text:n.hr.insert}];return e(n.shortcut.action,t)},d=function(n){var t=[{kbd:"â + â§ + L",text:n.paragraph.left},{kbd:"â + â§ + E",text:n.paragraph.center},{kbd:"â + â§ + R",text:n.paragraph.right},{kbd:"â + â§ + J",text:n.paragraph.justify},{kbd:"â + â§ + NUM7",text:n.lists.ordered},{kbd:"â + â§ + NUM8",text:n.lists.unordered}];return e(n.shortcut.paragraphFormatting,t)},g=function(n){var t=[{kbd:"â + NUM0",text:n.style.normal},{kbd:"â + NUM1",text:n.style.h1},{kbd:"â + NUM2",text:n.style.h2},{kbd:"â + NUM3",text:n.style.h3},{kbd:"â + NUM4",text:n.style.h4},{kbd:"â + NUM5",text:n.style.h5},{kbd:"â + NUM6",text:n.style.h6}];return e(n.shortcut.documentStyle,t)},nt=function(n,t){var r=t.extraKeys,u=[],i;for(i in r)r.hasOwnProperty(i)&&u.push({kbd:i,text:r[i]});return e(n.shortcut.extraKeys,u)},y=function(n,t){var i='class="note-shortcut note-shortcut-col col-sm-6 col-xs-12"',r=["<div "+i+">"+k(n,t)+"<\/div><div "+i+">"+b(n,t)+"<\/div>","<div "+i+">"+g(n,t)+"<\/div><div "+i+">"+d(n,t)+"<\/div>"];return t.extraKeys&&r.push("<div "+i+">"+nt(n,t)+"<\/div>"),'<div class="note-shortcut-row row">'+r.join('<\/div><div class="note-shortcut-row row">')+"<\/div>"},tt=function(n){return n.replace(/â/g,"Ctrl").replace(/â§/g,"Shift")},p={image:function(n,t){var r="",i,u,f,e;return t.maximumImageFileSize&&(i=Math.floor(Math.log(t.maximumImageFileSize)/Math.log(1024)),u=1*(t.maximumImageFileSize/Math.pow(1024,i)).toFixed(2)+" "+" KMGTP"[i]+"B",r="<small>"+n.image.maximumFileSize+" : "+u+"<\/small>"),f='<div class="form-group row-fluid note-group-select-from-files"><label>'+n.image.selectFromFiles+'<\/label><input class="note-image-input" type="file" name="files" accept="image/*" multiple="multiple" />'+r+'<\/div><div class="form-group row-fluid"><label>'+n.image.url+'<\/label><input class="note-image-url form-control span12" type="text" /><\/div>',e='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+n.image.insert+"<\/button>",o("note-image-dialog",n.image.insert,f,e)},link:function(n,t){var i='<div class="form-group row-fluid"><label>'+n.link.textToDisplay+'<\/label><input class="note-link-text form-control span12" type="text" /><\/div><div class="form-group row-fluid"><label>'+n.link.url+'<\/label><input class="note-link-url form-control span12" type="text" /><\/div>'+(t.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+n.link.openInNewWindow+"<\/label><\/div>"),r='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+n.link.insert+"<\/button>";return o("note-link-dialog",n.link.insert,i,r)},help:function(n,t){var i='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+n.shortcut.close+'<\/a><div class="title">'+n.shortcut.shortcuts+"<\/div>"+(u.isMac?y(n,t):tt(y(n,t)))+'<p class="text-center"><a href="//summernote.org/" target="_blank">Summernote 0.6.5<\/a> Â· <a href="//github.com/summernote/summernote" target="_blank">Project<\/a> Â· <a href="//github.com/summernote/summernote/issues" target="_blank">Issues<\/a><\/p>';return o("note-help-dialog","",i,"")}},w=function(t,i){var r="";return n.each(p,function(n,u){r+=u(t,i)}),'<div class="note-dialog">'+r+"<\/div>"},it=function(){return'<div class="note-resizebar"><div class="note-icon-bar"><\/div><div class="note-icon-bar"><\/div><div class="note-icon-bar"><\/div><\/div>'},rt=function(n){return u.isMac&&(n=n.replace("CMD","â").replace("SHIFT","â§")),n.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")},c=function(t,i,r){var u=f.invertObject(i),e=t.find("button");e.each(function(t,i){var r=n(i),f=u[r.data("event")];f&&r.attr("title",function(n,t){return t+" ("+rt(f)+")"})}).tooltip({container:"body",trigger:"hover",placement:r||"top"}).on("click",function(){n(this).tooltip("hide")})},l=function(t,i){var r=i.colors;t.find(".note-color-palette").each(function(){for(var t,f=n(this),h=f.attr("data-target-event"),e=[],i=0,c=r.length;c>i;i++){for(var o=r[i],s=[],u=0,l=o.length;l>u;u++)t=o[u],s.push(['<button type="button" class="note-color-btn" style="background-color:',t,';" data-event="',h,'" data-value="',t,'" title="',t,'" data-toggle="button" tabindex="-1"><\/button>'].join(""));e.push('<div class="note-color-row">'+s.join("")+"<\/div>")}f.html(e.join(""))})};this.createLayoutByAirMode=function(t,i){var y=i.langInfo,p=i.keyMap[u.isMac?"mac":"pc"],o=f.uniqueId(),s,r,h,e;t.addClass("note-air-editor note-editable");t.attr({id:"note-editor-"+o,contentEditable:!0});s=document.body;r=n(a(y,i));r.addClass("note-air-layout");r.attr("id","note-popover-"+o);r.appendTo(s);c(r,p);l(r,i);h=n(v());h.addClass("note-air-layout");h.attr("id","note-handle-"+o);h.appendTo(s);e=n(w(y,i));e.addClass("note-air-layout");e.attr("id","note-dialog-"+o);e.find("button.close, a.modal-close").click(function(){n(this).closest(".modal").modal("hide")});e.appendTo(s)};this.createLayoutByFrame=function(i,r){var p=r.langInfo,f=n('<div class="note-editor"><\/div>'),rt,e,b,d,g,nt,tt,ft;r.width&&f.width(r.width);r.height>0&&n('<div class="note-statusbar">'+(r.disableResizeEditor?"":it())+"<\/div>").prependTo(f);rt=!i.is(":disabled");e=n('<div class="note-editable" contentEditable="'+rt+'"><\/div>').prependTo(f);r.height&&e.height(r.height);r.direction&&e.attr("dir",r.direction);b=i.attr("placeholder")||r.placeholder;b&&e.attr("data-placeholder",b);e.html(t.html(i));n('<textarea class="note-codable"><\/textarea>').prependTo(f);for(var o=n('<div class="note-toolbar btn-toolbar" />'),s=0,et=r.toolbar.length;et>s;s++){for(var ot=r.toolbar[s][0],k=r.toolbar[s][1],ut=n('<div class="note-'+ot+' btn-group" />'),y=0,st=k.length;st>y;y++)d=h[k[y]],n.isFunction(d)&&(g=n(d(p,r)),g.attr("data-name",k[y]),ut.append(g));o.append(ut)}o.prependTo(f);nt=r.keyMap[u.isMac?"mac":"pc"];l(o,r);c(o,nt,"bottom");tt=n(a(p,r)).prependTo(f);l(tt,r);c(tt,nt);n(v()).prependTo(f);ft=n(w(p,r)).prependTo(f);ft.find("button.close, a.modal-close").click(function(){n(this).closest(".modal").modal("hide")});n('<div class="note-dropzone"><div class="note-dropzone-message"><\/div><\/div>').prependTo(f);f.insertAfter(i);i.hide()};this.hasNoteEditor=function(n){return this.noteEditorFromHolder(n).length>0};this.noteEditorFromHolder=function(t){return t.hasClass("note-air-editor")?t:t.next().hasClass("note-editor")?t.next():n()};this.createLayout=function(n,t){t.airMode?this.createLayoutByAirMode(n,t):this.createLayoutByFrame(n,t)};this.layoutInfoFromHolder=function(n){var i=this.noteEditorFromHolder(n);if(i.length)return i.data("holder",n),t.buildLayoutInfo(i)};this.removeLayout=function(n,t,i){i.airMode?(n.removeClass("note-air-editor note-editable").removeAttr("id contentEditable"),t.popover().remove(),t.handle().remove(),t.dialog().remove()):(n.html(t.editable().html()),t.editor().remove(),n.show())};this.getTemplate=function(){return{button:r,iconButton:i,dialog:o}};this.addButtonInfo=function(n,t){h[n]=t};this.addDialogInfo=function(n,t){p[n]=t}};n.summernote=n.summernote||{};n.extend(n.summernote,b);e=new pt;o=new yt;n.extend(n.summernote,{renderer:e,eventHandler:o,core:{agent:u,dom:t,range:r},pluginEvents:{},plugins:[]});n.summernote.addPlugin=function(t){n.summernote.plugins.push(t);t.buttons&&n.each(t.buttons,function(n,t){e.addButtonInfo(n,t)});t.dialogs&&n.each(t.dialogs,function(n,t){e.addDialogInfo(n,t)});t.events&&n.each(t.events,function(t,i){n.summernote.pluginEvents[t]=i});t.langs&&n.each(t.langs,function(t,i){n.summernote.lang[t]&&n.extend(n.summernote.lang[t],i)});t.options&&n.extend(n.summernote.options,t.options)};n.fn.extend({summernote:function(){var f=n.type(i.head(arguments)),s="string"===f,h="object"===f,t=h?i.head(arguments):{},r,u;if(t=n.extend({},n.summernote.options,t),t.langInfo=n.extend(!0,{},n.summernote.lang["en-US"],n.summernote.lang[t.lang]),this.each(function(i,r){var u=n(r),f;e.hasNoteEditor(u)||(e.createLayout(u,t),f=e.layoutInfoFromHolder(u),o.attach(f,t),o.attachCustomEvent(f,t))}),!s&&this.length&&t.oninit&&t.oninit(),r=this.first(),r.length){if(u=e.layoutInfoFromHolder(r),s){var c=i.head(i.from(arguments)),l=i.tail(i.from(arguments)),a=[c,u.editable()].concat(l);return o.invoke.apply(o,a)}t.focus&&u.editable().focus()}return this},code:function(i){var u,r,f,s;return void 0===i?(u=this.first(),!u.length)?void 0:(r=e.layoutInfoFromHolder(u),f=r&&r.editable(),f&&f.length)?(s=o.invoke("codeview.isActivated",r),o.invoke("codeview.sync",r),s?r.codable().val():r.editable().html()):t.value(u):(this.each(function(t,r){var u=e.layoutInfoFromHolder(n(r)),f=u&&u.editable();f&&f.html(i)}),this)},destroy:function(){return this.each(function(t,i){var u=n(i),r,f;e.hasNoteEditor(u)&&(r=e.layoutInfoFromHolder(u),f=r.editor().data("options"),o.detach(r,f),e.removeLayout(u,r,f))}),this}})}),function(n){n.extend(n.summernote.lang,{"zh-CN":{font:{bold:"ç²ä½",italic:"æä½",underline:"ä¸åçº¿",clear:"æ¸é¤æ ¼å¼",height:"è¡é«",name:"å­ä½",strikethrough:"å é¤çº¿",size:"å­å·"},image:{image:"å¾ç",insert:"æå¥å¾ç",resizeFull:"è°æ´è³ 100%",resizeHalf:"è°æ´è³ 50%",resizeQuarter:"è°æ´è³ 25%",floatLeft:"å·¦æµ®å¨",floatRight:"å³æµ®å¨",floatNone:"ä¸æµ®å¨",dragImageHere:"å°å¾çæè³æ­¤å¤",selectFromFiles:"ä»æ¬å°ä¸ä¼ ",url:"å¾çå°å"},link:{link:"é¾æ¥",insert:"æå¥é¾æ¥",unlink:"å»é¤é¾æ¥",edit:"ç¼è¾é¾æ¥",textToDisplay:"æ¾ç¤ºææ¬",url:"é¾æ¥å°å",openInNewWindow:"å¨æ°çªå£æå¼"},table:{table:"è¡¨æ ¼"},hr:{insert:"æ°´å¹³çº¿"},style:{style:"æ ·å¼",normal:"æ®é",blockquote:"å¼ç¨",pre:"ä»£ç ",h1:"æ é¢ 1",h2:"æ é¢ 2",h3:"æ é¢ 3",h4:"æ é¢ 4",h5:"æ é¢ 5",h6:"æ é¢ 6"},lists:{unordered:"æ åºåè¡¨",ordered:"æåºåè¡¨"},options:{help:"å¸®å©",fullscreen:"å¨å±",codeview:"æºä»£ç "},paragraph:{paragraph:"æ®µè½",outdent:"åå°ç¼©è¿",indent:"å¢å ç¼©è¿",left:"å·¦å¯¹é½",center:"å±ä¸­å¯¹é½",right:"å³å¯¹é½",justify:"ä¸¤ç«¯å¯¹é½"},color:{recent:"æè¿ä½¿ç¨",more:"æ´å¤",background:"èæ¯",foreground:"åæ¯",transparent:"éæ",setTransparent:"éæ",reset:"éç½®",resetToDefault:"é»è®¤"},shortcut:{shortcuts:"å¿«æ·é®",close:"å³é­",textFormatting:"ææ¬æ ¼å¼",action:"å¨ä½",paragraphFormatting:"æ®µè½æ ¼å¼",documentStyle:"ææ¡£æ ·å¼"},history:{undo:"æ¤é",redo:"éå"}}})}(jQuery)